{"version":3,"file":"index.js","sources":["pages/index.vue","../../../hbuilderx/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvaW5kZXgudnVl"],"sourcesContent":["<template>\n\t<view class=\"main\">\n\t\t<!-- È°∂ÈÉ®ÂØºËà™Ê†è -->\n\t\t<view class=\"header\">\n\t\t\t<view class=\"header-content\">\n\t\t\t\t<view class=\"header-title\">\n\t\t\t\t\t<text class=\"title-text\">ËÆ∞Ë¥¶Êú¨</text>\n\t\t\t\t\t<text class=\"title-subtitle\">Financial Tracker</text>\n\t\t\t\t</view>\n\t\t\t\t<button type=\"warn\" @click=\"quit\" class=\"logout-btn\">\n\t\t\t\t\t<text class=\"btn-text\">ÈÄÄÂá∫</text>\n\t\t\t\t</button>\n\t\t\t</view>\n\t\t</view>\n\n\t\t<!-- ‰∏ªË¶ÅÂÜÖÂÆπÂå∫Âüü -->\n\t\t<view class=\"content\">\n\t\t\t<!-- Ê∑ªÂä†ÊåâÈíÆÂå∫Âüü -->\n\t\t\t<view class=\"add-section\">\n\t\t\t\t<button type=\"primary\" class=\"add-btn\" @click=\"createRecords\">\n\t\t\t\t\t<text class=\"add-icon\">+</text>\n\t\t\t\t\t<text class=\"add-text\">Ê∑ªÂä†Ë¥¶Âçï</text>\n\t\t\t\t</button>\n\t\t\t</view>\n\n\t\t\t<!-- Ë¥¶ÂçïÂàóË°® -->\n\t\t\t<view class=\"records-section\">\n\t\t\t\t<view class=\"section-title\">\n\t\t\t\t\t<text class=\"title\">Ë¥¶ÂçïËÆ∞ÂΩï</text>\n\t\t\t\t\t<text class=\"count\">({{listdata.length || 0}})</text>\n\t\t\t\t</view>\n\t\t\t\t\n\t\t\t\t<view class=\"records-list\">\n\t\t\t\t\t<view class=\"record-card\" v-for=\"(item, index) in listdata\" :key=\"index\">\n\t\t\t\t\t\t<view class=\"card-header\" :class=\"item.type=='1' ? 'income-header' : 'expense-header'\">\n\t\t\t\t\t\t\t<view class=\"date-info\">\n\t\t\t\t\t\t\t\t<text class=\"date\">{{item.time.substring(0, 10)}}</text>\n\t\t\t\t\t\t\t\t<text class=\"time\">{{item.time.substring(11, 16)}}</text>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<view class=\"delete-btn\" @click=\"delbook(item._id)\">\n\t\t\t\t\t\t\t\t<image src=\"../static/del.png\" mode=\"aspectFit\" class=\"delete-icon\"></image>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<view class=\"card-content\" @click=\"editRecords(item._id)\">\n\t\t\t\t\t\t\t<view class=\"content-left\">\n\t\t\t\t\t\t\t\t<text class=\"title-text\">{{item.title}}</text>\n\t\t\t\t\t\t\t\t<text class=\"remarks\" v-if=\"item.remarks\">{{item.remarks}}</text>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<view class=\"content-right\">\n\t\t\t\t\t\t\t\t<view class=\"type-badge\" :class=\"item.type=='1' ? 'income-badge' : 'expense-badge'\">\n\t\t\t\t\t\t\t\t\t<text class=\"type-text\">{{item.type=='1'? 'Êî∂ÂÖ•' : 'ÊîØÂá∫'}}</text>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t<text class=\"amount\" :class=\"item.type=='1' ? 'income-amount' : 'expense-amount'\">\n\t\t\t\t\t\t\t\t\t{{item.type=='1' ? '+' : '-'}}¬•{{item.account}}\n\t\t\t\t\t\t\t\t</text>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\n\t\t\t\t<!-- Á©∫Áä∂ÊÄÅ -->\n\t\t\t\t<view class=\"empty-state\" v-if=\"!listdata || listdata.length === 0\">\n\t\t\t\t\t<view class=\"empty-icon\">üìä</view>\n\t\t\t\t\t<text class=\"empty-text\">ÊöÇÊó†Ë¥¶ÂçïËÆ∞ÂΩï</text>\n\t\t\t\t\t<text class=\"empty-subtext\">ÁÇπÂáª‰∏äÊñπÊåâÈíÆÊ∑ªÂä†ÊÇ®ÁöÑÁ¨¨‰∏ÄÁ¨îË¥¶Âçï</text>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t</view>\n</template>\n\n<script setup>\n\timport {\n\t\tref\n\t} from 'vue';\n\timport {\n\t\tonShow\n\t} from '@dcloudio/uni-app';\n\timport {list,dellist} from '@/api/index.js'\n\tonShow(() => {\n\t\tlistdata.value={};\n\t\tgetdatalist();\n\t});\t\n\t//Êï∞ÊçÆÂàóË°®\n\tconst listdata=ref({});\n\t//È¢úËâ≤Âà§ÂÆö\n\tconst colorbind=ref(true);\n\t//Ëé∑ÂèñÊï∞ÊçÆÂàóË°®\n\tconst getdatalist=async()=>{\n\t\tlet res = await list();\n\t\tif(res.code=='200'){\n\t\t\tlistdata.value=res.enity;\n\t\t}else{\n\t\t\tuni.showToast({\n\t\t\t\ttitle: res.msg,\n\t\t\t\ticon: 'error',\n\t\t\t})\n\t\t}\n\t\t\n\t}\n\t//ËΩ¨Ë∑≥Ê∑ªÂä†ËÆ∞ÂΩïÈ°µÈù¢\n\tconst createRecords = ()=>{\n\t\tuni.navigateTo({\n\t\t\turl: '/pages/create/index'\n\t\t})\n\t}\n\t//ËΩ¨Ë∑≥‰øÆÊîπËÆ∞ÂΩïÈ°µÈù¢\n\tconst editRecords = (id)=>{\n\t\tconsole.log(id,'index');\n\t\tuni.navigateTo({\n\t\t\turl: `/pages/edit/index?id=${id}`\n\t\t})\n\t}\n\t//Âà†Èô§Êï∞ÊçÆ\n\tconst delbook=async(id)=>{\n\t\tlet res =await dellist({\n\t\t\tid:id\n\t\t})\n\t\tif(res.code == '200'){\n\t\t\tuni.showToast({\n\t\t\t\ttitle: 'Âà†Èô§ÊàêÂäü',\n\t\t\t\ticon: 'success',\n\t\t\t})\n\t\t\tgetdatalist();\n\t\t}else{\n\t\t\tuni.showToast({\n\t\t\t\ttitle: res.msg,\n\t\t\t\ticon: 'error',\n\t\t\t})\n\t\t}\n\t}\n\t//ÈÄÄÂá∫\n\tconst quit =()=>{\n\t\tuni.removeStorageSync('token');\n\t\tuni.navigateTo({\n\t\t\turl: '/pages/login/index'\n\t\t})\n\t}\n</script>\n\n<style lang=\"scss\" scoped>\n\t.main {\n\t\tmin-height: 100vh;\n\t\tbackground: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n\t}\n\n\t.header {\n\t\tpadding: 40rpx 30rpx 20rpx;\n\t\tbackground: rgba(255, 255, 255, 0.1);\n\t\tbackdrop-filter: blur(10px);\n\t\tborder-bottom: 1px solid rgba(255, 255, 255, 0.2);\n\t}\n\n\t.header-content {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\talign-items: center;\n\t}\n\n\t.header-title {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t}\n\n\t.title-text {\n\t\tfont-size: 48rpx;\n\t\tfont-weight: bold;\n\t\tcolor: #ffffff;\n\t\tmargin-bottom: 8rpx;\n\t}\n\n\t.title-subtitle {\n\t\tfont-size: 24rpx;\n\t\tcolor: rgba(255, 255, 255, 0.8);\n\t\tfont-weight: 300;\n\t}\n\n\t.logout-btn {\n\t\tbackground: rgba(255, 255, 255, 0.2);\n\t\tborder: 1px solid rgba(255, 255, 255, 0.3);\n\t\tborder-radius: 50rpx;\n\t\tpadding: 16rpx 32rpx;\n\t\tbackdrop-filter: blur(10px);\n\t}\n\n\t.btn-text {\n\t\tcolor: #ffffff;\n\t\tfont-size: 28rpx;\n\t\tfont-weight: 500;\n\t}\n\n\t.content {\n\t\tpadding: 30rpx;\n\t}\n\n\t.add-section {\n\t\tmargin-bottom: 40rpx;\n\t}\n\n\t.add-btn {\n\t\tbackground: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);\n\t\tborder-radius: 50rpx;\n\t\theight: 100rpx;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tbox-shadow: 0 8rpx 32rpx rgba(79, 172, 254, 0.3);\n\t\tborder: none;\n\t\ttransition: all 0.3s ease;\n\t}\n\n\t.add-btn:active {\n\t\ttransform: translateY(2rpx);\n\t\tbox-shadow: 0 4rpx 16rpx rgba(79, 172, 254, 0.3);\n\t}\n\n\t.add-icon {\n\t\tfont-size: 36rpx;\n\t\tcolor: #ffffff;\n\t\tmargin-right: 16rpx;\n\t\tfont-weight: bold;\n\t}\n\n\t.add-text {\n\t\tfont-size: 32rpx;\n\t\tcolor: #ffffff;\n\t\tfont-weight: 600;\n\t}\n\n\t.records-section {\n\t\tbackground: rgba(255, 255, 255, 0.95);\n\t\tborder-radius: 24rpx;\n\t\tpadding: 30rpx;\n\t\tbox-shadow: 0 8rpx 32rpx rgba(0, 0, 0, 0.1);\n\t\tbackdrop-filter: blur(10px);\n\t}\n\n\t.section-title {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tmargin-bottom: 30rpx;\n\t\tpadding-bottom: 20rpx;\n\t\tborder-bottom: 2rpx solid #f0f0f0;\n\t}\n\n\t.title {\n\t\tfont-size: 36rpx;\n\t\tfont-weight: bold;\n\t\tcolor: #333333;\n\t}\n\n\t.count {\n\t\tfont-size: 28rpx;\n\t\tcolor: #666666;\n\t\tmargin-left: 16rpx;\n\t}\n\n\t.records-list {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tgap: 20rpx;\n\t}\n\n\t.record-card {\n\t\tbackground: #ffffff;\n\t\tborder-radius: 16rpx;\n\t\toverflow: hidden;\n\t\tbox-shadow: 0 4rpx 16rpx rgba(0, 0, 0, 0.08);\n\t\ttransition: all 0.3s ease;\n\t\tborder: 1px solid #f0f0f0;\n\t}\n\n\t.record-card:active {\n\t\ttransform: scale(0.98);\n\t\tbox-shadow: 0 2rpx 8rpx rgba(0, 0, 0, 0.12);\n\t}\n\n\t.card-header {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\talign-items: center;\n\t\tpadding: 20rpx 24rpx;\n\t\theight: 80rpx;\n\t}\n\n\t.income-header {\n\t\tbackground: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);\n\t}\n\n\t.expense-header {\n\t\tbackground: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);\n\t}\n\n\t.date-info {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t}\n\n\t.date {\n\t\tfont-size: 28rpx;\n\t\tfont-weight: 600;\n\t\tcolor: #333333;\n\t\tmargin-bottom: 4rpx;\n\t}\n\n\t.time {\n\t\tfont-size: 24rpx;\n\t\tcolor: #666666;\n\t}\n\n\t.delete-btn {\n\t\tpadding: 8rpx;\n\t\tborder-radius: 50%;\n\t\tbackground: rgba(255, 255, 255, 0.8);\n\t\ttransition: all 0.3s ease;\n\t}\n\n\t.delete-btn:active {\n\t\tbackground: rgba(255, 255, 255, 1);\n\t\ttransform: scale(1.1);\n\t}\n\n\t.delete-icon {\n\t\twidth: 40rpx;\n\t\theight: 40rpx;\n\t}\n\n\t.card-content {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\talign-items: center;\n\t\tpadding: 24rpx;\n\t\tbackground: #ffffff;\n\t}\n\n\t.content-left {\n\t\tflex: 1;\n\t\tmargin-right: 20rpx;\n\t}\n\n\t.title-text {\n\t\tfont-size: 32rpx;\n\t\tfont-weight: 600;\n\t\tcolor: #333333;\n\t\tmargin-bottom: 8rpx;\n\t\tdisplay: block;\n\t}\n\n\t.remarks {\n\t\tfont-size: 26rpx;\n\t\tcolor: #999999;\n\t\tdisplay: block;\n\t}\n\n\t.content-right {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: flex-end;\n\t\tgap: 12rpx;\n\t}\n\n\t.type-badge {\n\t\tpadding: 8rpx 16rpx;\n\t\tborder-radius: 20rpx;\n\t\tfont-size: 24rpx;\n\t\tfont-weight: 500;\n\t}\n\n\t.income-badge {\n\t\tbackground: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);\n\t\tcolor: #ffffff;\n\t}\n\n\t.expense-badge {\n\t\tbackground: linear-gradient(135deg, #fa709a 0%, #fee140 100%);\n\t\tcolor: #ffffff;\n\t}\n\n\t.type-text {\n\t\tfont-size: 24rpx;\n\t\tfont-weight: 500;\n\t}\n\n\t.amount {\n\t\tfont-size: 36rpx;\n\t\tfont-weight: bold;\n\t}\n\n\t.income-amount {\n\t\tcolor: #4facfe;\n\t}\n\n\t.expense-amount {\n\t\tcolor: #fa709a;\n\t}\n\n\t.empty-state {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\t\tpadding: 80rpx 40rpx;\n\t\ttext-align: center;\n\t}\n\n\t.empty-icon {\n\t\tfont-size: 120rpx;\n\t\tmargin-bottom: 30rpx;\n\t\topacity: 0.6;\n\t}\n\n\t.empty-text {\n\t\tfont-size: 32rpx;\n\t\tcolor: #666666;\n\t\tfont-weight: 500;\n\t\tmargin-bottom: 16rpx;\n\t}\n\n\t.empty-subtext {\n\t\tfont-size: 26rpx;\n\t\tcolor: #999999;\n\t\tline-height: 1.5;\n\t}\n</style>\n","import MiniProgramPage from 'D:/Outsourcing/Tallybook-master/app/pages/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["onShow","ref","list","uni","dellist"],"mappings":";;;;;;;AAgFCA,kBAAAA,OAAO,MAAM;AACZ,eAAS,QAAM;AACf;IACF,CAAE;AAED,UAAM,WAASC,kBAAI,CAAA,CAAE;AAELA,kBAAAA,IAAI,IAAI;AAExB,UAAM,cAAY,YAAS;AAC1B,UAAI,MAAM,MAAMC,UAAAA;AAChB,UAAG,IAAI,QAAM,OAAM;AAClB,iBAAS,QAAM,IAAI;AAAA,MACtB,OAAO;AACJC,sBAAAA,MAAI,UAAU;AAAA,UACb,OAAO,IAAI;AAAA,UACX,MAAM;AAAA,QACV,CAAI;AAAA,MACD;AAAA,IAED;AAED,UAAM,gBAAgB,MAAI;AACzBA,oBAAAA,MAAI,WAAW;AAAA,QACd,KAAK;AAAA,MACR,CAAG;AAAA,IACD;AAED,UAAM,cAAc,CAAC,OAAK;AACzBA,oBAAA,MAAA,MAAA,OAAA,0BAAY,IAAG,OAAO;AACtBA,oBAAAA,MAAI,WAAW;AAAA,QACd,KAAK,wBAAwB,EAAE;AAAA,MAClC,CAAG;AAAA,IACD;AAED,UAAM,UAAQ,OAAM,OAAK;AACxB,UAAI,MAAK,MAAMC,kBAAQ;AAAA,QACtB;AAAA,MACH,CAAG;AACD,UAAG,IAAI,QAAQ,OAAM;AACpBD,sBAAAA,MAAI,UAAU;AAAA,UACb,OAAO;AAAA,UACP,MAAM;AAAA,QACV,CAAI;AACD;MACH,OAAO;AACJA,sBAAAA,MAAI,UAAU;AAAA,UACb,OAAO,IAAI;AAAA,UACX,MAAM;AAAA,QACV,CAAI;AAAA,MACD;AAAA,IACD;AAED,UAAM,OAAM,MAAI;AACfA,0BAAI,kBAAkB,OAAO;AAC7BA,oBAAAA,MAAI,WAAW;AAAA,QACd,KAAK;AAAA,MACR,CAAG;AAAA,IACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACzIF,GAAG,WAAW,eAAe;"}